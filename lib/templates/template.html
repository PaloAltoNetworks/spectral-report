<!DOCTYPE html>
<html data-bs-theme="dark">

<head>
    <title>Palo Alto Networks | Spectral Report</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.2/css/jquery.dataTables.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css" crossorigin="anonymous">
    <link rel="stylesheet" href="custom.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<style>
    .report__heading {
       text-align: center;
    }

    .report__card-container {
        color: #fff;
    }

    .report__card {
        /* width: 18rem;
        margin-right: 1rem; */
        min-width: 18rem;
        max-width: 20rem;
    }

    .report__card-icon {
        font-size: 4rem;
        margin: auto;
    }

    .report__card-font-light {
        color: black;
    }

    .report__table-container {
        margin-top: 2rem;
    }

    .report__card-col {
        margin-bottom: 1rem;
    }

    .dataTables_filter {
        padding-right: 1rem;
    }

 </style>

<body>
    <main class="container border-bottom">
        <div class="container">
            <h1 class="display-4 report__heading">OpenAPI Static Analysis Report</h1>
        </div>

        <div class="container">
            <hr />
        </div>

        <div class="container report__card-container">
            <div class="row">
                <div class="col report__card-col">
                    <div class="card bg-danger report__card">
                        <i class="bi-bug report__card-icon"></i>
                        <div class="card-body">
                            <h1 class="card-title">Errors</h1>
                            <h2 class="card-title">{{this.errorCount}}</h2>
                        </div>
                    </div>
                </div>
                <div class="col report__card-col">
                    <div class="card bg-warning report__card">
                        <i class="bi-cone-striped report__card-icon"></i>
                        <div class="card-body">
                            <h1 class="card-title">Warnings</h1>
                            <h2 class="card-title">{{this.warnCount}}</h2>
                        </div>
                    </div>
                </div>
                <div class="col report__card-col">
                    <div class="card bg-info report__card">
                        <i class="bi-info-circle report__card-icon"></i>
                        <div class="card-body">
                            <h1 class="card-title">Info</h1>
                            <h2 class="card-title">{{this.infoCount}}</h2>
                        </div>
                    </div>
                </div>  
                <div class="col report__card-col">
                    <div class="card bg-light report__card report__card-font-light" >
                        <i class="bi-question-circle report__card-icon"></i>
                        <div class="card-body">
                            <h1 class="card-title">Hints</h1>
                            <h2 class="card-title">{{this.hintCount}}</h2>
                        </div>
                    </div>
                </div>
            </div>  
        </div>

        <div class="container report__table-container">
            <div class="table-responsive-md">
                <table id="detailed-report" class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Line</th>
                            <th scope="col">Severity</th>
                            <th scope="col">Code</th>
                            <th scope="col">Message</th>
                            <th scope="col">Path</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#each this.messages}}
                        <tr>
                            <td>{{inc @index}}</th>
                            <td>{{line}}</td>
                            {{#ifEquals severity "warn"}}
                            <td><span class="badge bg-warning">{{severity}}</span></td>
                            {{else ifEquals severity "error"}}
                            <td><span class="badge bg-danger">{{severity}}</span></td>
                            {{else ifEquals severity "info"}}
                            <td><span class="badge bg-info">{{severity}}</span></td>
                            {{else}}
                            <td><span class="badge bg-primary">{{severity}}</span></td>
                            {{/ifEquals}}
                            <td>{{code}}</td>
                            <td>{{message}}</td>
                            <td>{{path}}</td>
                        </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p class="text-left">
                <span class="text-muted">Generated using <a href="https://www.npmjs.com/package/spectral-report"
                        style="text-decoration: none;">spectral-report</a>
                    on {{timestamp}}.</span>
            </p>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.3.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js" crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/1.13.2/js/jquery.dataTables.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/1.13.2/js/dataTables.bootstrap4.min.js" crossorigin="anonymous"></script>
    <script>
        $(document).ready(function () {
            $('#detailed-report').DataTable({
                paging: false,
                scrollY: '500px',
                order: [[0, 'asc']],
            });
        });
    </script>
</body>

</html>